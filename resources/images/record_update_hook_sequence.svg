<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" id="svg3023" width="744.094" height="1052.362" version="1.1"><defs id="defs3025"><marker id="Arrow2Lend" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3875" d="M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z" transform="scale(1.1) rotate(180) translate(1,0)" style="font-size:12;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round"/></marker><marker id="Arrow2Lend-4" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3875-3" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round"/></marker></defs><metadata id="metadata3028"/><g id="layer1"><rect style="fill:none;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3031" width="56.429" height="35" x="25.714" y="38.076"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text3801" x="32.143" y="60.219" xml:space="preserve"><tspan id="tspan3803" x="32.143" y="60.219" style="font-size:14px">Client</tspan></text><rect id="rect3807" width="90.714" height="35" x="107.714" y="38.076" style="fill:none;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/><text id="text3809" x="114.143" y="60.219" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:14px" id="tspan3811" x="114.143" y="60.219">Repository</tspan></text><rect style="fill:none;stroke:red;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3813" width="150.714" height="35" x="301.714" y="38.076"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:red;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text3815" x="308.143" y="60.219" xml:space="preserve"><tspan id="tspan3817" x="308.143" y="60.219" style="font-size:14px;fill:red">RecordUpdateHook</tspan></text><rect id="rect3823" width="60.714" height="35" x="459.714" y="38.076" style="fill:none;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/><text id="text3825" x="466.143" y="60.219" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:14px" id="tspan3827" x="466.143" y="60.219">HBase</tspan></text><rect style="fill:none;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect3829" width="104.286" height="35" x="525.714" y="38.076"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text3831" x="532.143" y="60.219" xml:space="preserve"><tspan id="tspan3833" x="532.143" y="60.219" style="font-size:14px">TypeManager</tspan></text><path style="fill:none;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:8,4;stroke-dashoffset:0" id="path3835" d="m 152.14286,73.076463 0,185.000007"/><path id="path3839" d="m 398.14286,73.076463 0,185.000007" style="fill:none;stroke:red;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:8,4;stroke-dashoffset:0"/><path style="fill:none;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:8,4;stroke-dashoffset:0" id="path3841" d="m 492.14286,73.076463 0,185.000007"/><path id="path3843" d="m 574.14286,73.076463 0,185.000007" style="fill:none;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:8,4;stroke-dashoffset:0"/><path style="fill:none;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:8,4;stroke-dashoffset:0" id="path3845" d="m 54.14286,75.933606 0,185.000004"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)" id="path3849" d="m 53.571429,104.50504 98.571431,0"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4295" x="65.571" y="97.076" xml:space="preserve"><tspan id="tspan4297" x="65.571" y="97.076">update</tspan></text><text id="text4301" x="161" y="126.934" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan id="tspan4303" x="161" y="126.934">(1) get field types snapshot</tspan></text><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)" id="path4305" d="m 153.57144,132.50504 419.77244,0"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4307" x="161" y="148.934" xml:space="preserve"><tspan id="tspan4309" x="161" y="148.934">(2) read current record state</tspan></text><path id="path4311" d="m 153.57144,154.50504 337.83042,0" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)"/><text id="text4313" x="161" y="170.934" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:red;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan id="tspan4315" x="161" y="170.934">(3) call record-update-hook(s)</tspan></text><g id="g4352" transform="matrix(1.0827425,0,0,1,-12.706141,-20)" style="fill:red"><path style="font-size:medium;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;text-indent:0;text-align:start;text-decoration:none;line-height:normal;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;text-anchor:start;baseline-shift:baseline;color:#000;fill:red;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate;font-family:Sans;-inkscape-font-specification:Sans" id="path4317" d="m 153.5625,196 0,1 223.125,0 0,-1 -223.125,0 z"/><path style="font-size:12px;fill:red;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path4358" d="m 365.99258,192.06793 12.01847,4.4195 -12.01847,4.41949 c 1.92005,-2.60927 1.90899,-6.1792 0,-8.83899 z"/></g><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4319" x="161" y="192.934" xml:space="preserve"><tspan id="tspan4321" x="161" y="192.934">remainder of update algoritm</tspan></text><path id="path4323" d="m 153.57144,198.50504 181.78432,0" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4325" x="335.714" y="202.791" xml:space="preserve"><tspan id="tspan4327" x="335.714" y="202.791">...</tspan></text><path id="path4311-1" d="m 152.81364,229.95123 337.83042,0" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)"/><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4307-1" x="158.209" y="224.13" xml:space="preserve"><tspan id="tspan4309-2" x="158.209" y="224.13">update record if not changed since (2)</tspan></text></g></svg>