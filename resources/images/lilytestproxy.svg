<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" id="svg2" width="744.094" height="1052.362" version="1.1"><defs id="defs4"><marker style="overflow:visible" id="Arrow2Lend" orient="auto" refX="0" refY="0"><path style="font-size:12;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3891" d="M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z" transform="scale(1.1) rotate(180) translate(1,0)"/></marker></defs><metadata id="metadata7"/><g id="layer1"><rect id="rect2985" width="390.316" height="284.358" x="46.213" y="33.623" style="fill:#e6e6e6;fill-opacity:1;stroke:#000;stroke-width:.99999982;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/><rect style="fill:#e6e6e6;fill-opacity:1;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect2987" width="186.878" height="197.485" x="170.305" y="405.136"/><text id="text2989" x="175.355" y="425.339" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:16px" id="tspan2991" x="175.355" y="425.339">launch-test-lily</tspan></text><flowRoot style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="flowRoot2997" transform="translate(-279.21331,282.11428)" xml:space="preserve"><flowRegion id="flowRegion2999"><rect id="rect3001" width="168.695" height="177.787" x="459.619" y="159.387"/></flowRegion><flowPara id="flowPara4897">launch-test-lily script provides setupless quickstart of all services in one JVM:</flowPara><flowPara id="flowPara3005">- HDFS</flowPara><flowPara id="flowPara3007">- MapReduce</flowPara><flowPara id="flowPara3009">- ZooKeeper</flowPara><flowPara id="flowPara3015">- HBase</flowPara><flowPara id="flowPara3011">- Solr</flowPara><flowPara id="flowPara3013">- Lily Server</flowPara></flowRoot><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text3017" x="170.627" y="55.342" xml:space="preserve"><tspan id="tspan3019" x="170.627" y="55.342" style="font-size:16px">YourTestCase</tspan></text><rect id="rect3041" width="165.918" height="69.701" x="146.911" y="143.73" style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/><text id="text3021" x="194.832" y="164.438" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:16px" id="tspan3023" x="194.832" y="164.438">LilyProxy</tspan></text><text style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text3025" x="153.982" y="187.672" xml:space="preserve"><tspan id="tspan3029" x="153.982" y="187.672" style="font-size:13px">if mode =</tspan><tspan id="tspan3033" x="153.982" y="206.912" style="font-size:16px">EMBED</tspan></text><text id="text3035" x="230.228" y="186.641" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:13px" id="tspan3037" x="230.228" y="186.641">if mode =</tspan><tspan style="font-size:16px" id="tspan3039" x="230.228" y="205.881">CONNECT</tspan></text><text id="text3051" x="57.538" y="77.606" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan id="tspan3085" x="57.538" y="77.606">LilyProxy.start(): either</tspan><tspan id="tspan3091" x="57.538" y="92.606">launches embedded Lily</tspan><tspan id="tspan3095" x="57.538" y="107.606">stack or connects to</tspan><tspan id="tspan3097" x="57.538" y="122.606">externally running Lily</tspan><tspan id="tspan3072" x="57.538" y="137.606">stack</tspan></text><rect id="rect3055" width="160.109" height="60.104" x="63.315" y="251.816" style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/><flowRoot style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="flowRoot3061" transform="translate(51.697975,4.5456865)" xml:space="preserve"><flowRegion id="flowRegion3063"><rect id="rect3065" width="149.503" height="77.277" x="16.668" y="253.332"/></flowRegion><flowPara id="flowPara3067">Embedded Lily stack:</flowPara><flowPara id="flowPara3069">HDFS, ZooKeeper, HBase, Solr, Lily Server</flowPara></flowRoot><path id="path3071" d="M 212.05081,59.887307 195.88837,143.2249" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)" id="path3073" d="m 230.73609,60.412688 11.61675,82.327442"/><text id="text3075" x="243.345" y="78.157" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan id="tspan3081" x="243.345" y="78.157">The test case accesses</tspan><tspan id="tspan4675" x="243.345" y="93.157">services agnostic of how they</tspan><tspan id="tspan3079" x="243.345" y="108.157">were launched: getLilyClient(),</tspan><tspan id="tspan4681" x="243.345" y="123.157">getSolrServer(), ...</tspan></text><path id="path4683" d="m 183.21641,213.17796 -0.0245,36.80928" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)"/><path id="path4685" d="m 267.43789,213.30422 -0.25254,190.54003" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)"/><flowRoot style="font-size:12px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="flowRoot4909" transform="translate(38.681406,-2.6939798)" xml:space="preserve"><flowRegion id="flowRegion4911"><rect id="rect4913" width="166.43" height="60.161" x="62.629" y="334.144"/></flowRegion><flowPara id="flowPara4915">on LilyProxy.start(), all state is reset so that testcase starts from blank slate on each run</flowPara></flowRoot><path id="path3055" d="m 146.72466,172.1405 166.42263,0" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/><path id="path3057" d="m 225.13775,172.51931 0,41.03745" style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/></g></svg>