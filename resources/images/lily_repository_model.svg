<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" id="svg4011" width="1052.362" height="744.094" version="1.1"><defs id="defs4013"><marker id="EmptyDiamondL" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path4734" d="M 0,-7.0710768 L -7.0710894,0 L 0,7.0710589 L 7.0710462,0 L 0,-7.0710768 z" transform="scale(0.8)" style="fill-rule:evenodd;fill:#fff;stroke:#000;stroke-width:1pt;marker-start:none"/></marker></defs><metadata id="metadata4016"/><g id="layer1" transform="translate(0,-308.2677)"><rect id="rect5359" width="884" height="330" x="89" y="660.362" style="fill:#ececec;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/><rect style="fill:#ececec;fill-opacity:1;stroke:#000;stroke-width:0;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect5357" width="884" height="309.057" x="90" y="303.305"/><rect style="fill:#fff;stroke:#000;stroke-width:.97031915000000002;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5318" width="208.03" height="134.03" x="721.985" y="680.347"/><rect style="fill:#fff;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5094" width="200" height="61" x="286" y="912.362"/><rect style="fill:#fff;stroke:#000;stroke-width:.97331113000000002;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5084" width="213.027" height="161.027" x="452.987" y="681.349"/><rect style="fill:#fff;stroke:#000;stroke-width:1.00945330000000011;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5343" width="184.991" height="159.991" x="114.005" y="436.367"/><text style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4021" x="161" y="461.362" xml:space="preserve"><tspan id="tspan4023" x="161" y="461.362" style="font-size:16px">RECORD</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4025" x="130" y="485.362" xml:space="preserve"><tspan id="tspan4027" x="130" y="485.362">A record has versions</tspan><tspan id="tspan4029" x="130" y="502.862">if it contains fields</tspan><tspan id="tspan4031" x="130" y="520.362">that belong to the</tspan><tspan id="tspan5339" x="130" y="537.862">versioned or</tspan><tspan id="tspan5341" x="130" y="555.362">versioned-mutable</tspan><tspan id="tspan4033" x="130" y="572.862">scope</tspan></text><rect style="fill:#fff;stroke:#000;stroke-width:.91960889000000001;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5345" width="91.08" height="59.08" x="571.96" y="451.322"/><text id="text4035" x="586" y="474.362" xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:16px" id="tspan4037" x="586" y="474.362">FIELD</tspan></text><rect style="fill:#fff;stroke:#000;stroke-opacity:1" id="rect5329" width="199" height="72" x="342" y="522.362"/><text style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4039" x="355" y="544.362" xml:space="preserve"><tspan id="tspan4041" x="355" y="544.362" style="font-size:16px">RECORD ID</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4043" x="595" y="493.362" xml:space="preserve"><tspan id="tspan4045" x="595" y="493.362">* Value</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4047" x="361" y="564.362" xml:space="preserve"><tspan id="tspan4049" x="361" y="564.362">* Master ID</tspan><tspan id="tspan4051" x="361" y="581.862">* Optional variant props</tspan></text><rect style="fill:#fff;stroke:#000;stroke-width:.98403525;stroke-opacity:1" id="rect4087" width="268.472" height="140.016" x="115.992" y="680.354"/><text id="text4053" x="129" y="705.362" xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:16px" id="tspan4055" x="129" y="705.362">RECORD TYPE</tspan></text><text style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4057" x="466" y="705.362" xml:space="preserve"><tspan id="tspan4059" x="466" y="705.362" style="font-size:16px">FIELD TYPE</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4061" x="472" y="725.362" xml:space="preserve"><tspan id="tspan4063" x="472" y="725.362">* Scope</tspan><tspan id="tspan4065" x="472" y="742.862"> - non-versioned</tspan><tspan id="tspan4069" x="472" y="760.362"> - versioned</tspan><tspan id="tspan4067" x="472" y="777.862"> - versioned-mutable</tspan><tspan id="tspan4071" x="472" y="795.362">* System assigned ID</tspan><tspan id="tspan4073" x="472" y="812.862">* Namespaced name</tspan><tspan id="tspan4075" x="472" y="827.372" style="font-size:11px;font-style:italic;-inkscape-font-specification:AlArabiya Italic">Immutable except for the name</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4077" x="133" y="724.362" xml:space="preserve"><tspan id="tspan4079" x="133" y="724.362">* versioned, each update</tspan><tspan id="tspan4081" x="133" y="741.862"> causes a new version</tspan><tspan id="tspan4083" x="133" y="759.362">* can reuse other record types</tspan><tspan id="tspan4085" x="133" y="776.862"> through inheritance (supertypes)</tspan><tspan id="tspan3569" x="133" y="794.362">* System assigned ID</tspan><tspan id="tspan3571" x="133" y="811.862">* Namespaced name</tspan></text><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#EmptyDiamondL)" id="path4622" d="m 249,826.86218 0,29.5 169,0 0,-89 -33,0"/><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5072" x="256" y="837.362" xml:space="preserve"><tspan id="tspan5074" x="256" y="837.362">1</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5076" x="389" y="760.362" xml:space="preserve"><tspan id="tspan5078" x="389" y="760.362">*</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5080" x="309" y="848.362" xml:space="preserve"><tspan id="tspan5082" x="309" y="848.362">supertype</tspan></text><text style="font-size:16px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5086" x="302" y="937.362" xml:space="preserve"><tspan id="tspan5088" x="302" y="937.362">FIELD TYPE ENTRY</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5090" x="314" y="958.362" xml:space="preserve"><tspan id="tspan5092" x="314" y="958.362">* mandatory: boolean</tspan></text><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#EmptyDiamondL)" id="path5096" d="m 179,826.36218 0,114 106,0"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5282" d="m 487,936.36218 88,0 0,-92"/><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5284" x="496" y="957.362" xml:space="preserve"><tspan id="tspan5286" x="496" y="957.362">1</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5288" x="590" y="858.362" xml:space="preserve"><tspan id="tspan5290" x="590" y="858.362">1</tspan></text><text style="font-size:16px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5292" x="730" y="703.362" xml:space="preserve"><tspan id="tspan5294" x="730" y="703.362">VALUE TYPE</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5296" x="737" y="727.362" xml:space="preserve"><tspan id="tspan5316" x="737" y="727.362">* string, long, date, link,</tspan><tspan id="tspan3224" x="737" y="744.862"> record, list, path, ...</tspan><tspan id="tspan5302" x="737" y="762.362">* converts values from &amp;</tspan><tspan id="tspan5304" x="737" y="779.862"> to bytes</tspan></text><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5322" d="m 667,750.36218 54,0"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5347" d="m 204,596.36218 0,83"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5349" d="m 299.02945,558.36218 43.23923,0"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5351" d="m 594,509.36218 0,170"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5353" d="m 300,471.36218 272,0"/><text style="font-size:16px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5361" x="-553.6" y="77.887" transform="matrix(0,-1,1,0,0,0)" xml:space="preserve"><tspan id="tspan5363" x="-553.6" y="77.887">INSTANCE</tspan></text><text style="font-size:16px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5365" x="-848.128" y="77.414" transform="matrix(0,-1,1,0,0,0)" xml:space="preserve"><tspan id="tspan5367" x="-848.128" y="77.414">SCHEMA</tspan></text><text style="font-size:12px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text3047" x="370" y="278.362" xml:space="preserve"><tspan id="tspan3049" x="370" y="278.362" style="font-size:28px">Lily repository model</tspan></text><rect style="fill:#fff;stroke:#000;stroke-width:1.17841744;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5345-2" width="150.219" height="58.822" x="769.11" y="451.609"/><text id="text4035-4" x="775.741" y="474.831" xml:space="preserve" style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans"><tspan style="font-size:16px" id="tspan4037-5" x="775.741" y="474.831">FIELD METADATA</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4043-2" x="774.985" y="493.896" xml:space="preserve"><tspan id="tspan4045-9" x="774.985" y="493.896">free key-value pairs</tspan></text><rect style="fill:#fff;stroke:#000;stroke-width:1.0094533;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" id="rect5343-3" width="203.375" height="72.309" x="105.151" y="323.444"/><text style="font-size:40px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4021-5" x="169.803" y="343.974" xml:space="preserve"><tspan id="tspan4023-8" x="169.803" y="343.974" style="font-size:16px">TABLE</tspan></text><text style="font-size:14px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4025-4" x="116.75" y="364.065" xml:space="preserve"><tspan id="tspan4033-9" x="116.75" y="364.065">A table is a list of records,</tspan><tspan id="tspan4110" x="116.75" y="381.565">possibly of different types</tspan></text><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5347-3" d="m 203.3036,394.9736 0,40.32875"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path5349-4" d="m 663.33636,471.83795 105.92564,0"/></g></svg>